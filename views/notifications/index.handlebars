<h2>Your Notifications</h2>

{{#if notifs.length}}
  <div class="mb-3">
    <form action="/notifications/mark-all-read" method="POST" class="d-inline">
      <button type="submit" class="btn btn-secondary">Mark All as Read</button>
    </form>
  </div>

  <div class="list-group">
    {{#each notifs}}
      <div class="list-group-item {{#unless isRead}}list-group-item-primary{{/unless}}">
        <div class="d-flex w-100 justify-content-between">
          <h5 class="mb-1">{{message}}</h5>
          <small>{{formatDate timestamp}}</small>
        </div>
        {{#if eventID}}
          <a href="/events/{{eventID}}" class="btn btn-sm btn-outline-primary mt-2">View Event</a>
        {{/if}}
        {{#unless isRead}}
          <form action="/notifications/{{_id}}/mark-read" method="POST" class="d-inline">
            <button type="submit" class="btn btn-sm btn-outline-secondary mt-2">Mark as Read</button>
          </form>
        {{/unless}}
      </div>
    {{/each}}
  </div>
{{else}}
  <p>You have no notifications.</p>
{{/if}} 